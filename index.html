<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alpha Notes - Dev Bandhiya</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f4f4f4;
        }

        header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 1rem 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .nav-links {
            list-style: none;
            display: flex;
            gap: 2rem;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: opacity 0.3s;
            cursor: pointer;
        }

        .nav-links a:hover {
            opacity: 0.8;
        }

        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 20px;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        h1 {
            color: #1e3c72;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 3px solid #2a5298;
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h2 {
            color: #2a5298;
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }

        .blog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .blog-card {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .blog-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }

        .blog-card-header {
            background: linear-gradient(135deg, #2a5298 0%, #1e3c72 100%);
            color: white;
            padding: 1.5rem;
        }

        .blog-card-title {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
        }

        .blog-card-meta {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        .blog-card-body {
            padding: 1.5rem;
        }

        .blog-card-excerpt {
            color: #555;
            margin-bottom: 1rem;
        }

        .read-more {
            color: #2a5298;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .read-more::after {
            content: '→';
            transition: transform 0.3s;
        }

        .blog-card:hover .read-more::after {
            transform: translateX(5px);
        }

        .blog-post-full {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .back-button {
            display: inline-block;
            color: #2a5298;
            text-decoration: none;
            margin-bottom: 1.5rem;
            cursor: pointer;
            font-weight: 600;
        }

        .back-button::before {
            content: '← ';
        }

        .back-button:hover {
            text-decoration: underline;
        }

        .post-title {
            color: #1e3c72;
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .post-meta {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #eee;
        }

        .post-content {
            font-size: 1.05rem;
            line-height: 1.8;
            margin-bottom: 2rem;
        }

        .post-content p {
            margin-bottom: 1rem;
        }

        .comment-section {
            margin-top: 3rem;
            padding: 1.5rem;
            background: #f9f9f9;
            border-radius: 5px;
        }

        .comment {
            background: white;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 5px;
            border-left: 3px solid #2a5298;
        }

        .comment.pending {
            border-left-color: #ffc107;
            background: #fff9e6;
        }

        .comment-author {
            font-weight: bold;
            color: #1e3c72;
            margin-bottom: 0.3rem;
        }

        .comment-text {
            color: #555;
        }

        .comment-status {
            display: inline-block;
            padding: 0.2rem 0.6rem;
            border-radius: 3px;
            font-size: 0.75rem;
            margin-left: 0.5rem;
            font-weight: 600;
        }

        .comment-status.pending {
            background: #ffc107;
            color: #000;
        }

        .comment-actions {
            margin-top: 0.5rem;
            display: flex;
            gap: 1rem;
        }

        .delete-btn, .approve-btn {
            padding: 0.3rem 0.8rem;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.85rem;
            display: none;
        }

        .delete-btn {
            background: #dc3545;
            color: white;
        }

        .delete-btn:hover {
            background: #c82333;
        }

        .approve-btn {
            background: #28a745;
            color: white;
        }

        .approve-btn:hover {
            background: #218838;
        }

        .admin-mode .delete-btn,
        .admin-mode .approve-btn {
            display: inline-block;
        }

        .admin-controls {
            background: white;
            padding: 1rem;
            border-radius: 5px;
            margin-bottom: 1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .admin-toggle {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .admin-status {
            padding: 0.3rem 0.8rem;
            border-radius: 3px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .admin-status.active {
            background: #28a745;
            color: white;
        }

        .admin-status.inactive {
            background: #6c757d;
            color: white;
        }

        .pending-badge {
            background: #ffc107;
            color: #000;
            padding: 0.2rem 0.6rem;
            border-radius: 3px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .content-box {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .contact-info {
            margin-top: 2rem;
        }

        .contact-info p {
            margin-bottom: 0.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        label {
            display: block;
            margin-bottom: 0.3rem;
            font-weight: 500;
        }

        input, textarea {
            width: 100%;
            padding: 0.7rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-family: inherit;
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        button {
            background: #2a5298;
            color: white;
            padding: 0.7rem 2rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.3s;
        }

        button:hover {
            background: #1e3c72;
        }

        .loading {
            text-align: center;
            padding: 1rem;
            color: #666;
        }

        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 1rem;
            border: 1px solid #c3e6cb;
        }

        @media (max-width: 768px) {
            .blog-grid {
                grid-template-columns: 1fr;
            }

            .nav-links {
                gap: 1rem;
            }

            .logo {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">Alpha Notes</div>
            <ul class="nav-links">
                <li><a onclick="showPage('about')">About</a></li>
                <li><a onclick="showPage('blog')">Blog</a></li>
                <li><a onclick="showPage('contact')">Contact</a></li>
            </ul>
        </nav>
    </header>

    <div class="container">
        <!-- Admin Controls -->
        <div class="admin-controls">
            <div class="admin-toggle">
                <button onclick="toggleAdmin()">Toggle Admin Mode</button>
                <span id="admin-status" class="admin-status inactive">Admin: OFF</span>
                <span id="pending-count" class="pending-badge" style="display: none;">0 Pending</span>
                <span style="color: #666; font-size: 0.9rem;">Password: admin123</span>
            </div>
        </div>

        <!-- About Page -->
        <div id="about" class="page active">
            <h1>About</h1>
            <div class="content-box">
                <p>Hey there! I'm <strong>Dev Bandhiya</strong>, a Computer Science student at Mahindra University with a deep fascination for the intersection of mathematics, finance, and technology. Welcome to <strong>Alpha Notes</strong> — my corner of the internet where I explore, dissect, and discuss research that bridges quantitative finance, economics, and computational methods.</p>
                
                <h2>My Journey</h2>
                <p>I'm on a path to becoming a quantitative researcher, driven by curiosity about how mathematical models can decode market behavior and inform investment decisions. My journey has taken me through internships at QuantEdge and Trade Vectors, research projects ranging from recession forecasting using bond-spread networks to SDE-based noise removal, and coursework spanning computational finance, machine learning, and numerical methods.</p>
                
                <p>But beyond the technical work, I believe in the power of <em>understanding</em>. The finance industry is filled with complex models and sophisticated strategies, yet the underlying principles often remain locked behind academic papers and institutional walls. That's where this blog comes in.</p>
                
                <h2>What You'll Find Here</h2>
                <p>Alpha Notes is my attempt to bridge that gap. I break down recent research papers, explore quantitative strategies, and discuss topics in:</p>
                <p><strong>• Market Microstructure & Efficiency</strong> — How do markets process information? What makes them efficient or inefficient?<br>
                <strong>• Quantitative Strategies</strong> — From momentum and mean reversion to machine learning-based alpha generation<br>
                <strong>• Stochastic Processes & Risk</strong> — SDEs, option pricing, portfolio optimization, and risk metrics<br>
                <strong>• Economic Indicators</strong> — Yield curves, credit spreads, macro signals, and recession forecasting<br>
                <strong>• Computational Methods</strong> — Neural networks, reinforcement learning, and numerical simulations in finance</p>
                
                <h2>Why I Write This</h2>
                <p>I write to learn. Each post forces me to truly understand what I'm reading, to question assumptions, and to connect ideas across different domains. But I also write for <em>you</em> — whether you're a fellow student exploring quantitative finance, a professional looking for fresh perspectives, or simply someone curious about how markets work.</p>
                
                <p>My goal is to make complex research <strong>accessible without diluting its rigor</strong>, to spark discussions that challenge conventional thinking, and to build a community of people who share this passion for quantitative analysis.</p>
                
                <h2>Let's Connect</h2>
                <p>I'm always eager to discuss ideas, collaborate on projects, or simply chat about markets and mathematics. Feel free to reach out through the contact page, comment on posts, or connect with me on LinkedIn and GitHub. Let's decode markets together, one research paper at a time.</p>
            </div>
        </div>

        <!-- Blog List Page -->
        <div id="blog" class="page">
            <h1>Research Blog</h1>
            
            <div class="blog-grid">
                <div class="blog-card" onclick="showBlogPost('post1')">
                    <div class="blog-card-header">
                        <div class="blog-card-title">Understanding Market Efficiency: The EMH Debate Continues</div>
                        <div class="blog-card-meta">January 20, 2026 | Research Team</div>
                    </div>
                    <div class="blog-card-body">
                        <p class="blog-card-excerpt">The Efficient Market Hypothesis remains one of the most debated theories in finance. Recent research suggests new insights into short-term anomalies and behavioral factors...</p>
                        <span class="read-more">Read More</span>
                    </div>
                </div>

                <div class="blog-card" onclick="showBlogPost('post2')">
                    <div class="blog-card-header">
                        <div class="blog-card-title">ESG Investing: Beyond the Hype</div>
                        <div class="blog-card-meta">January 15, 2026 | Research Team</div>
                    </div>
                    <div class="blog-card-body">
                        <p class="blog-card-excerpt">Environmental, Social, and Governance criteria have transformed investment frameworks. We examine whether ESG investing sacrifices returns or enhances performance...</p>
                        <span class="read-more">Read More</span>
                    </div>
                </div>

                <div class="blog-card" onclick="showBlogPost('post3')">
                    <div class="blog-card-header">
                        <div class="blog-card-title">Cryptocurrency Market Dynamics</div>
                        <div class="blog-card-meta">January 10, 2026 | Research Team</div>
                    </div>
                    <div class="blog-card-body">
                        <p class="blog-card-excerpt">Digital assets continue to challenge traditional finance paradigms. This analysis explores volatility patterns, regulatory impacts, and institutional adoption trends...</p>
                        <span class="read-more">Read More</span>
                    </div>
                </div>

                <div class="blog-card" onclick="showBlogPost('post4')">
                    <div class="blog-card-header">
                        <div class="blog-card-title">Risk Parity Strategies in Modern Portfolios</div>
                        <div class="blog-card-meta">January 5, 2026 | Research Team</div>
                    </div>
                    <div class="blog-card-body">
                        <p class="blog-card-excerpt">Risk parity approaches allocate capital based on risk contribution rather than traditional weights. We review recent empirical evidence on performance across market cycles...</p>
                        <span class="read-more">Read More</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Individual Blog Posts -->
        <div id="post1" class="page">
            <div class="blog-post-full">
                <a class="back-button" onclick="showPage('blog')">Back to Blog</a>
                <h1 class="post-title">Understanding Market Efficiency: The EMH Debate Continues</h1>
                <div class="post-meta">Posted on January 20, 2026 | By Research Team</div>
                
                <div class="post-content">
                    <p>The Efficient Market Hypothesis (EMH) remains one of the most debated theories in finance. Recent research by leading economists suggests that while markets may be informationally efficient in the long run, short-term anomalies persist due to behavioral biases and structural market factors.</p>
                    
                    <p>This post examines the latest empirical evidence on market efficiency, exploring how high-frequency trading, social media sentiment, and institutional investor behavior impact price discovery mechanisms in modern financial markets.</p>
                    
                    <p>Key findings from recent studies indicate that information asymmetry varies significantly across asset classes and market conditions. While large-cap equities in developed markets tend to exhibit strong-form efficiency, smaller markets and alternative assets show persistent patterns that sophisticated investors can exploit.</p>
                    
                    <p>The role of technology in accelerating information dissemination has paradoxically both enhanced and challenged market efficiency. While data availability has improved, the speed of algorithmic trading creates micro-inefficiencies that traditional EMH models did not anticipate.</p>
                </div>
                
                <div class="comment-section">
                    <h3>Comments (<span id="comment-count-post1">0</span>)</h3>
                    <div id="comments-post1" class="loading">Loading comments...</div>
                    
                    <div class="comment-form">
                        <h3>Leave a Comment</h3>
                        <div id="success-post1" class="success-message" style="display: none;">
                            Your comment has been submitted and is awaiting approval!
                        </div>
                        <form onsubmit="addComment(event, 'post1')">
                            <div class="form-group">
                                <label for="name1">Name</label>
                                <input type="text" id="name1" required>
                            </div>
                            <div class="form-group">
                                <label for="comment1">Comment</label>
                                <textarea id="comment1" required></textarea>
                            </div>
                            <button type="submit">Post Comment</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div id="post2" class="page">
            <div class="blog-post-full">
                <a class="back-button" onclick="showPage('blog')">Back to Blog</a>
                <h1 class="post-title">ESG Investing: Beyond the Hype</h1>
                <div class="post-meta">Posted on January 15, 2026 | By Research Team</div>
                
                <div class="post-content">
                    <p>Environmental, Social, and Governance (ESG) criteria have transformed from a niche consideration to a mainstream investment framework. But does ESG investing sacrifice returns for principles, or can it genuinely enhance long-term portfolio performance?</p>
                    
                    <p>We dive into recent academic studies that examine the risk-return profile of ESG-focused portfolios, the impact of regulatory changes on ESG disclosure, and the challenge of greenwashing in sustainable finance.</p>
                    
                    <p>Meta-analyses of ESG performance data reveal nuanced results. While some studies show modest outperformance, others suggest ESG factors primarily serve as risk mitigation tools rather than return enhancers. The heterogeneity in ESG rating methodologies complicates direct comparisons.</p>
                    
                    <p>Regulatory developments, particularly in the European Union, are standardizing ESG reporting requirements. This increased transparency may reduce information asymmetry and allow for more accurate assessment of ESG-related risks and opportunities.</p>
                </div>
                
                <div class="comment-section">
                    <h3>Comments (<span id="comment-count-post2">0</span>)</h3>
                    <div id="comments-post2" class="loading">Loading comments...</div>
                    
                    <div class="comment-form">
                        <h3>Leave a Comment</h3>
                        <div id="success-post2" class="success-message" style="display: none;">
                            Your comment has been submitted and is awaiting approval!
                        </div>
                        <form onsubmit="addComment(event, 'post2')">
                            <div class="form-group">
                                <label for="name2">Name</label>
                                <input type="text" id="name2" required>
                            </div>
                            <div class="form-group">
                                <label for="comment2">Comment</label>
                                <textarea id="comment2" required></textarea>
                            </div>
                            <button type="submit">Post Comment</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div id="post3" class="page">
            <div class="blog-post-full">
                <a class="back-button" onclick="showPage('blog')">Back to Blog</a>
                <h1 class="post-title">Cryptocurrency Market Dynamics</h1>
                <div class="post-meta">Posted on January 10, 2026 | By Research Team</div>
                
                <div class="post-content">
                    <p>Digital assets continue to challenge traditional finance paradigms. This analysis explores volatility patterns, regulatory impacts, and institutional adoption trends in cryptocurrency markets.</p>
                    
                    <p>Recent research examines the correlation structure between cryptocurrencies and traditional asset classes, finding that while Bitcoin initially offered diversification benefits, these have diminished as institutional participation increased.</p>
                    
                    <p>The maturation of cryptocurrency markets is evident in improved liquidity and reduced extreme volatility events. However, regulatory uncertainty remains a significant risk factor affecting valuations and adoption rates.</p>
                </div>
                
                <div class="comment-section">
                    <h3>Comments (<span id="comment-count-post3">0</span>)</h3>
                    <div id="comments-post3" class="loading">Loading comments...</div>
                    
                    <div class="comment-form">
                        <h3>Leave a Comment</h3>
                        <div id="success-post3" class="success-message" style="display: none;">
                            Your comment has been submitted and is awaiting approval!
                        </div>
                        <form onsubmit="addComment(event, 'post3')">
                            <div class="form-group">
                                <label for="name3">Name</label>
                                <input type="text" id="name3" required>
                            </div>
                            <div class="form-group">
                                <label for="comment3">Comment</label>
                                <textarea id="comment3" required></textarea>
                            </div>
                            <button type="submit">Post Comment</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div id="post4" class="page">
            <div class="blog-post-full">
                <a class="back-button" onclick="showPage('blog')">Back to Blog</a>
                <h1 class="post-title">Risk Parity Strategies in Modern Portfolios</h1>
                <div class="post-meta">Posted on January 5, 2026 | By Research Team</div>
                
                <div class="post-content">
                    <p>Risk parity approaches allocate capital based on risk contribution rather than traditional market-cap weights. We review recent empirical evidence on performance across various market cycles.</p>
                    
                    <p>Academic research demonstrates that risk parity strategies can provide more balanced exposure to different risk factors, potentially reducing portfolio drawdowns during equity market stress.</p>
                    
                    <p>However, implementation challenges include the need for leverage to achieve target returns and sensitivity to correlation estimates. Recent innovations in dynamic risk parity address some of these limitations.</p>
                </div>
                
                <div class="comment-section">
                    <h3>Comments (<span id="comment-count-post4">0</span>)</h3>
                    <div id="comments-post4" class="loading">Loading comments...</div>
                    
                    <div class="comment-form">
                        <h3>Leave a Comment</h3>
                        <div id="success-post4" class="success-message" style="display: none;">
                            Your comment has been submitted and is awaiting approval!
                        </div>
                        <form onsubmit="addComment(event, 'post4')">
                            <div class="form-group">
                                <label for="name4">Name</label>
                                <input type="text" id="name4" required>
                            </div>
                            <div class="form-group">
                                <label for="comment4">Comment</label>
                                <textarea id="comment4" required></textarea>
                            </div>
                            <button type="submit">Post Comment</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Contact Page -->
        <div id="contact" class="page">
            <h1>Contact Me</h1>
            <div class="content-box">
                <p>I'd love to hear from you! Whether you have questions about a post, want to discuss quantitative finance research, or are interested in collaborating on a project, feel free to reach out.</p>
                
                <div class="contact-info">
                    <h2>Connect With Me</h2>
                    <p><strong>Email:</strong> devmbandhiya11@gmail.com</p>
                    <p><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/dev-m-bandhiya/" target="_blank" style="color: #2a5298;">linkedin.com/in/dev-m-bandhiya</a></p>
                    <p><strong>GitHub:</strong> <a href="https://github.com/dmb369" target="_blank" style="color: #2a5298;">github.com/dmb369</a></p>
                </div>

                <h2>Send a Message</h2>
                <form onsubmit="submitContact(event)">
                    <div class="form-group">
                        <label for="contact-name">Name</label>
                        <input type="text" id="contact-name" required>
                    </div>
                    <div class="form-group">
                        <label for="contact-email">Email</label>
                        <input type="email" id="contact-email" required>
                    </div>
                    <div class="form-group">
                        <label for="contact-subject">Subject</label>
                        <input type="text" id="contact-subject" required>
                    </div>
                    <div class="form-group">
                        <label for="contact-message">Message</label>
                        <textarea id="contact-message" required></textarea>
                    </div>
                    <button type="submit">Send Message</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        let isAdmin = false;
        const adminPassword = "admin123";

        async function loadComments(postId) {
            try {
                const result = await window.storage.get(`comments_${postId}`);
                const comments = result ? JSON.parse(result.value) : [];
                displayComments(postId, comments);
                updateCommentCount(postId, comments);
                updatePendingBadge();
            } catch (error) {
                const comments = [];
                displayComments(postId, comments);
                updateCommentCount(postId, comments);
            }
        }

        function displayComments(postId, comments) {
            const container = document.getElementById(`comments-${postId}`);
            container.innerHTML = '';
            
            const approvedComments = comments.filter(c => c.approved);
            
            if (approvedComments.length === 0 && !isAdmin) {
                container.innerHTML = '<p style="color: #666;">No comments yet. Be the first to comment!</p>';
                return;
            }

            const commentsToShow = isAdmin ? comments : approvedComments;

            if (commentsToShow.length === 0) {
                container.innerHTML = '<p style="color: #666;">No comments yet.</p>';
                return;
            }

            commentsToShow.forEach((comment, index) => {
                const commentDiv = document.createElement('div');
                commentDiv.className = comment.approved ? 'comment' : 'comment pending';
                commentDiv.innerHTML = `
                    <div class="comment-author">
                        ${comment.name}
                        ${!comment.approved ? '<span class="comment-status pending">Pending Approval</span>' : ''}
                    </div>
                    <div class="comment-text">${comment.text}</div>
                    <div class="comment-actions">
                        ${!comment.approved ? `<button class="approve-btn" onclick="approveComment('${postId}', ${index})">Approve</button>` : ''}
                        <button class="delete-btn" onclick="deleteComment('${postId}', ${index})">Delete</button>
                    </div>
                `;
                container.appendChild(commentDiv);
            });
        }

        function updateCommentCount(postId, comments) {
            const approvedCount = comments.filter(c => c.approved).length;
            const countElement = document.getElementById(`comment-count-${postId}`);
            if (countElement) {
                countElement.textContent = approvedCount;
            }
        }

        async function updatePendingBadge() {
            let totalPending = 0;
            
            for (const postId of ['post1', 'post2', 'post3', 'post4']) {
                try {
                    const result = await window.storage.get(`comments_${postId}`);
                    const comments = result ? JSON.parse(result.value) : [];
                    totalPending += comments.filter(c => !c.approved).length;
                } catch (error) {
                    // Skip if no comments
                }
            }

            const badge = document.getElementById('pending-count');
            if (totalPending > 0) {
                badge.textContent = `${totalPending} Pending`;
                badge.style.display = 'inline-block';
            } else {
                badge.style.display = 'none';
            }
        }

        async function addComment(e, postId) {
            e.preventDefault();
            const nameInput = document.getElementById('name' + postId.slice(-1));
            const commentInput = document.getElementById('comment' + postId.slice(-1));
            
            const name = nameInput.value;
            const text = commentInput.value;
            
            try {
                const result = await window.storage.get(`comments_${postId}`);
                const comments = result ? JSON.parse(result.value) : [];
                
                comments.push({
                    name: name,
                    text: text,
                    approved: false,
                    timestamp: new Date().toISOString()
                });
                
                await window.storage.set(`comments_${postId}`, JSON.stringify(comments));
                
                nameInput.value = '';
                commentInput.value = '';
                
                const successMsg = document.getElementById(`success-${postId}`);
                successMsg.style.display = 'block';
                setTimeout(() => {
                    successMsg.style.display = 'none';
                }, 5000);
                
                loadComments(postId);
                
            } catch (error) {
                alert('Error submitting comment. Please try again.');
                console.error('Error:', error);
            }
            
            return false;
        }

        async function approveComment(postId, index) {
            try {
                const result = await window.storage.get(`comments_${postId}`);
                const comments = JSON.parse(result.value);
                
                comments[index].approved = true;
                
                await window.storage.set(`comments_${postId}`, JSON.stringify(comments));
                loadComments(postId);
                
            } catch (error) {
                alert('Error approving comment.');
                console.error('Error:', error);
            }
        }

        async function deleteComment(postId, index) {
            if (!confirm("Are you sure you want to delete this comment?")) {
                return;
            }
            
            try {
                const result = await window.storage.get(`comments_${postId}`);
                const comments = JSON.parse(result.value);
                
                comments.splice(index, 1);
                
                await window.storage.set(`comments_${postId}`, JSON.stringify(comments));
                loadComments(postId);
                
            } catch (error) {
                alert('Error deleting comment.');
                console.error('Error:', error);
            }
        }

        function toggleAdmin() {
            if (!isAdmin) {
                const password = prompt("Enter admin password:");
                if (password === adminPassword) {
                    isAdmin = true;
                    document.body.classList.add('admin-mode');
                    document.getElementById('admin-status').textContent = 'Admin: ON';
                    document.getElementById('admin-status').classList.remove('inactive');
                    document.getElementById('admin-status').classList.add('active');
                    
                    ['post1', 'post2', 'post3', 'post4'].forEach(postId => {
                        loadComments(postId);
                    });
                } else {
                    alert("Incorrect password!");
                }
            } else {
                isAdmin = false;
                document.body.classList.remove('admin-mode');
                document.getElementById('admin-status').textContent = 'Admin: OFF';
                document.getElementById('admin-status').classList.remove('active');
                document.getElementById('admin-status').classList.add('inactive');
                
                ['post1', 'post2', 'post3', 'post4'].forEach(postId => {
                    loadComments(postId);
                });
            }
        }

        function showPage(pageId) {
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            
            if (pageId.startsWith('post')) {
                loadComments(pageId);
            }
        }

        function showBlogPost(postId) {
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            document.getElementById(postId).classList.add('active');
            loadComments(postId);
        }

        function submitContact(e) {
            e.preventDefault();
            alert('Thank you for your message! I will get back to you soon.');
            e.target.reset();
            return false;
        }

        window.addEventListener('load', () => {
            updatePendingBadge();
            setInterval(updatePendingBadge, 30000);
        });
    </script>
</body>
</html>
                